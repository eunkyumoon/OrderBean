# OrderBean 비기능적 요구사항 (NFR)

> Toy Project 수준의 현실적인 비기능적 요구사항 정의서

## 📋 목차

- [성능 기대치](#성능-기대치)
- [보안 요구사항](#보안-요구사항)
- [확장성 고려사항](#확장성-고려사항)
- [사용성 표준](#사용성-표준)
- [품질 요구사항](#품질-요구사항)

---

## 🚀 성능 기대치

### 응답 시간

| 기능 | 목표 응답 시간 | 비고 |
|------|---------------|------|
| 메뉴 목록 조회 | **500ms 이내** | 페이지네이션 적용 시 |
| 메뉴 상세 조회 | **200ms 이내** | 단일 메뉴 조회 |
| 주문 생성 | **1초 이내** | 결제 처리 포함 |
| 주문 목록 조회 | **500ms 이내** | 사용자별 필터링 |
| 레시피 조회 | **300ms 이내** | 사용자별 레시피 |

**Toy Project 기준**: 
- 로컬 개발 환경에서 측정
- 실제 프로덕션 환경보다 여유 있게 설정
- 데이터베이스 쿼리 최적화 기본 적용

### 동시 사용자 처리

- **동시 사용자**: 최소 **10명** (Toy Project 기준)
- **초당 요청 처리**: 최소 **20 RPS** (Requests Per Second)
- **피크 시간대**: 동시 접속자 **5명** 처리 가능

**Toy Project 기준**:
- 단일 서버 인스턴스로 처리
- 로드 밸런싱 불필요
- 기본적인 동시성 처리만 구현

### 시스템 가용성

- **목표 가용성**: **95% 이상** (Toy Project 기준)
- **다운타임 허용**: 주간 **8시간** (유지보수 시간 포함)
- **모니터링**: 기본적인 로깅 및 에러 추적

**Toy Project 기준**:
- 프로덕션 수준의 고가용성 불필요
- 개발/테스트 환경에서의 안정성 우선
- 장애 발생 시 빠른 복구 가능하도록 로깅 강화

### 데이터 처리량

- **일일 주문 처리**: 최대 **100건** (Toy Project 기준)
- **데이터베이스 크기**: 초기 **1GB 이하**
- **백업 주기**: 일일 1회 (선택사항)

---

## 🔒 보안 요구사항

### 인증 및 인가

- **인증 방식**: JWT (JSON Web Token) 기반
- **토큰 만료 시간**: 1시간 (기본값)
- **비밀번호 정책**: 
  - 최소 8자 이상
  - 영문, 숫자 조합 (선택사항)
- **세션 관리**: 서버 측 세션 저장소 사용 (선택사항)

**Toy Project 기준**:
- 복잡한 OAuth, SSO 불필요
- 기본적인 JWT 인증만 구현
- 비밀번호 복잡도 검증은 선택사항

### 데이터 보안

- **비밀번호 저장**: bcrypt 해싱 (salt rounds: 10)
- **민감 정보 암호화**: 
  - 비밀번호: 해싱 필수
  - 결제 정보: 토큰화 또는 마스킹 (실제 결제 연동 시)
- **개인정보 보호**: 
  - 사용자 이메일, 전화번호 기본 보호
  - GDPR 준수는 선택사항 (Toy Project)

**Toy Project 기준**:
- 기본적인 해싱 및 암호화만 적용
- 복잡한 암호화 체계 불필요
- 테스트 환경에서는 평문 저장도 허용 (명시적 표시)

### 통신 보안

- **HTTPS**: 프로덕션 환경에서만 필수
- **개발 환경**: HTTP 허용 (로컬 개발)
- **CORS 설정**: 기본적인 CORS 정책 적용
- **API 보안**: 
  - Rate Limiting: 분당 100회 (인증 사용자), 20회 (비인증)
  - 입력 검증: 기본적인 XSS, SQL Injection 방어

**Toy Project 기준**:
- 개발 환경에서는 HTTP 허용
- 기본적인 보안 헤더 설정
- 복잡한 WAF, DDoS 방어 불필요

### 데이터베이스 보안

- **SQL Injection 방어**: ORM 또는 파라미터화된 쿼리 사용
- **접근 제어**: 데이터베이스 사용자 권한 분리 (선택사항)
- **백업 암호화**: 선택사항 (Toy Project)

---

## 📈 확장성 고려사항

### 아키텍처 확장성

- **모듈화된 구조**: 서비스 레이어 분리
- **API 설계**: RESTful API 표준 준수
- **마이크로서비스 전환 가능성**: 현재는 모놀리식, 추후 분리 가능한 구조

**Toy Project 기준**:
- 단일 애플리케이션으로 시작
- 서비스 레이어 분리로 확장성 확보
- 마이크로서비스는 추후 고려사항

### 데이터베이스 확장성

- **인덱싱**: 주요 쿼리 경로에 인덱스 적용
- **페이지네이션**: 목록 조회 시 필수 적용
- **데이터베이스 선택**: PostgreSQL 권장 (SQLite는 개발용)

**Toy Project 기준**:
- 초기에는 SQLite로 시작 가능
- 프로덕션은 PostgreSQL 권장
- 복잡한 샤딩, 리플리케이션 불필요

### 매장 확장성

- **다중 매장 지원**: 기본 구조로 설계
- **매장별 설정**: 매장 ID 기반 데이터 분리
- **프랜차이즈 확장**: 추후 확장 가능한 구조

**Toy Project 기준**:
- 초기에는 단일 매장으로 테스트
- 다중 매장 구조는 설계만 포함
- 실제 다중 매장 운영은 추후 구현

### 성능 확장성

- **캐싱 전략**: 
  - 메뉴 목록: 메모리 캐시 (선택사항)
  - 주문 조회: 캐싱 불필요 (실시간성 중요)
- **CDN**: 정적 파일용 (선택사항, Toy Project에서는 불필요)

---

## 🎨 사용성 표준

### 사용자 인터페이스

- **반응형 디자인**: 모바일 우선 설계
- **접근성**: 기본적인 키보드 네비게이션 지원
- **브라우저 지원**: 
  - Chrome, Firefox, Safari 최신 2개 버전
  - IE 지원 불필요 (Toy Project)

**Toy Project 기준**:
- 모바일 반응형 필수
- 복잡한 접근성 표준(WCAG AAA) 불필요
- 기본적인 사용성만 확보

### 사용자 경험 (UX)

- **주문 프로세스**: 3단계 이내 완료
  1. 메뉴 선택
  2. 옵션 커스터마이징
  3. 결제
- **로딩 시간**: 각 단계별 1초 이내
- **에러 메시지**: 명확하고 이해하기 쉬운 메시지

**Toy Project 기준**:
- 복잡한 UX 리서치 불필요
- 기본적인 사용자 플로우만 구현
- A/B 테스트 등은 추후 고려

### 다국어 지원

- **기본 언어**: 한국어
- **다국어 지원**: 선택사항 (Toy Project에서는 불필요)

### 오프라인 지원

- **오프라인 모드**: 불필요 (Toy Project)
- **서비스 워커**: 선택사항

---

## ✅ 품질 요구사항

### 코드 품질

- **테스트 커버리지**: 최소 **80% 이상** (현재 97.51% 달성 ✅)
- **코드 리뷰**: 기본적인 리뷰 프로세스
- **린팅**: ESLint 기본 규칙 적용

**Toy Project 기준**:
- 높은 커버리지 유지 (현재 목표 초과 달성)
- 복잡한 정적 분석 도구는 선택사항

### 문서화

- **API 문서**: OpenAPI/Swagger (선택사항)
- **코드 주석**: 주요 함수/클래스에 JSDoc
- **사용자 가이드**: 기본적인 README 및 설치 가이드

**Toy Project 기준**:
- 기본적인 문서화 필수
- 상세한 API 문서는 선택사항
- 코드 자체가 문서 역할

### 유지보수성

- **버전 관리**: Git 사용
- **의존성 관리**: package.json 명확한 버전 관리
- **환경 변수**: .env 파일로 관리

---

## 📊 요구사항 우선순위

### 필수 (Must Have)

1. ✅ 기본적인 성능 (응답 시간 1초 이내)
2. ✅ JWT 인증 및 비밀번호 해싱
3. ✅ SQL Injection 방어
4. ✅ 모바일 반응형 디자인
5. ✅ 테스트 커버리지 80% 이상

### 선택사항 (Nice to Have)

1. ⚪ Rate Limiting
2. ⚪ HTTPS (프로덕션)
3. ⚪ 캐싱 전략
4. ⚪ 상세한 모니터링
5. ⚪ 다국어 지원

### 추후 고려 (Future)

1. 🔮 마이크로서비스 아키텍처
2. 🔮 고가용성 구성
3. 🔮 복잡한 보안 정책
4. 🔮 CDN 및 글로벌 배포

---

## 📝 측정 및 검증

### 성능 측정

- **도구**: 
  - API: Postman, curl
  - 부하 테스트: Apache Bench (ab) 또는 Artillery (선택사항)
- **측정 주기**: 주요 기능 구현 후 1회

### 보안 검증

- **도구**: 
  - npm audit (의존성 취약점)
  - ESLint 보안 규칙
- **검증 주기**: 배포 전 1회

### 사용성 테스트

- **방법**: 기본적인 사용자 플로우 테스트
- **주기**: 주요 기능 완성 후 1회

---

## 🔗 관련 문서

- [PRD 문서](./PRD.md)
- [API 문서](./API.md)
- [개발 가이드](./DEVELOPMENT.md)
- [테스트 가이드](./TESTING.md)

---

**마지막 업데이트**: 2024-12-16  
**버전**: v1.0 (Toy Project 기준)

