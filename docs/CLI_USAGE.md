# OrderBean 콘솔 주문 프로그램 사용 가이드

## 📋 개요

OrderBean 콘솔 주문 프로그램은 이미지 인터페이스와 동일한 기능을 콘솔에서 사용할 수 있도록 구현한 CLI 프로그램입니다.

## 🚀 실행 방법

### 방법 1: npm 스크립트 사용

```bash
cd backend
npm run cli
```

### 방법 2: 직접 실행

```bash
cd backend
node src/cli/orderCli.js
```

## 📖 사용 방법

### 1. 메인 메뉴

프로그램 실행 시 다음 메뉴가 표시됩니다:

```
========== OrderBean 주문 시스템 ==========
1. 메뉴 보기
2. 장바구니 보기
3. 주문하기
4. 종료
==========================================
```

### 2. 메뉴 보기 및 선택

1. **메뉴 보기** 선택 (1번)
   - 현재 사용 가능한 메뉴 목록이 표시됩니다
   - 각 메뉴의 가격, 설명, 옵션이 표시됩니다

2. **메뉴 선택**
   - 메뉴 번호를 입력하여 선택
   - 0을 입력하면 취소

3. **수량 입력**
   - 원하는 수량을 입력 (기본값: 1)

4. **옵션 선택**
   - **샷 추가**: y/n 선택 후 샷 개수 입력 (+500원)
   - **우유 종류**: 우유 종류 선택 (기본값: 일반우유)
   - **시럽 추가**: y/n 선택 후 시럽 종류 및 펌프 수 입력

### 3. 장바구니 보기

- 장바구니에 담긴 모든 항목 표시
- 각 항목의 옵션, 수량, 가격 표시
- 총 금액 계산

### 4. 주문하기

- 장바구니 확인 후 주문 처리
- 주문 번호, 상태, 총 금액 표시
- 주문 완료 후 장바구니 자동 비우기

## 📝 예시

### 예시 1: 아메리카노(ICE) 주문

```
1. 메뉴 보기 선택
2. 메뉴 번호 1 입력 (아메리카노(ICE))
3. 수량: 1 (또는 엔터)
4. 샷 추가: y → 샷 개수: 2
5. 시럽 추가: n
6. 장바구니에 추가됨
```

### 예시 2: 카페라떼 주문

```
1. 메뉴 보기 선택
2. 메뉴 번호 3 입력 (카페라떼)
3. 수량: 1
4. 샷 추가: n
5. 우유 종류: 오트밀크
6. 시럽 추가: y → 바닐라 → 펌프: 2
7. 장바구니에 추가됨
```

## 🎯 주요 기능

### 메뉴 관리
- 메뉴 목록 조회
- 메뉴 상세 정보 확인
- 옵션별 가격 계산

### 장바구니 관리
- 항목 추가
- 장바구니 조회
- 총 금액 계산

### 주문 처리
- 주문 생성
- 주문 상태 확인
- 결제 처리 (모킹)

## ⚙️ 설정

### 사용자 ID 및 매장 ID

현재는 테스트용으로 고정값을 사용합니다:
- `currentUserId = 1`
- `currentStoreId = 1`

실제 사용 시에는 인증 시스템과 연동하여 동적으로 설정해야 합니다.

## 🔧 기술 스택

- **Node.js**: 런타임 환경
- **readline**: 콘솔 입력 처리
- **기존 서비스 레이어**: menuService, orderService 재사용

## 📊 데이터 흐름

```
사용자 입력 → CLI 프로그램 → Service Layer → Mock Data
                ↓
            주문 생성 → Order Service → 결제 처리
```

## 🐛 문제 해결

### 입력이 제대로 작동하지 않는 경우
- 터미널 인코딩을 UTF-8로 설정
- Windows의 경우: `chcp 65001`

### 메뉴가 표시되지 않는 경우
- `menuService.js`의 메뉴 데이터 확인
- 서비스 레이어가 정상 작동하는지 확인

## 📚 관련 문서

- [API 문서](./API.md)
- [개발 가이드](./DEVELOPMENT.md)
- [서비스 레이어 문서](../backend/src/services/)

---

**참고**: 이 CLI 프로그램은 프론트엔드 인터페이스 구축 전 테스트 및 프로토타이핑을 위한 도구입니다.

